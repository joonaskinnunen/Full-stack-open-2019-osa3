(window.webpackJsonppuhelinluettelo=window.webpackJsonppuhelinluettelo||[]).push([[0],{15:function(e,n,t){e.exports=t(37)},37:function(e,n,t){"use strict";t.r(n);var a=t(0),o=t.n(a),r=t(13),u=t.n(r),l=t(14),c=t(2),i=function(e){return o.a.createElement("div",null,o.a.createElement("p",null,"Filter shown with ",o.a.createElement("input",{value:e.inputValue,onChange:e.onChangeFunction})))},m=function(e){return o.a.createElement("div",null,o.a.createElement("h2",null,"Numbers"),e.personsArr.map(function(n,t){return n.name.toLowerCase().includes(e.filterWord.toLowerCase())||n.number.includes(e.filterWord.toLowerCase())?o.a.createElement("li",{key:t},n.name," ",n.number,o.a.createElement("button",{onClick:function(){return t=n,void e.deleteNameFunction(t);var t}},"delete")):console.log("Ei sis\xe4ll\xe4 haettavaa sanaa!")}))},s=function(e){return o.a.createElement("div",null,o.a.createElement("h2",null,"Add a new"),o.a.createElement("form",{onSubmit:e.onSubmitFunction},o.a.createElement("div",null,"name: ",o.a.createElement("input",{value:e.nameInputValue,onChange:e.nameOnChangeFunction})),o.a.createElement("div",null,"number: ",o.a.createElement("input",{value:e.numberInputValue,onChange:e.numberOnChangeFunction})),o.a.createElement("div",null,o.a.createElement("button",{type:"submit"},"add"))))},d=t(3),f=t.n(d),b="/api/persons",p=function(){return f.a.get(b).then(function(e){return e.data})},g=function(e){return f.a.post(b,e).then(function(e){return e.data})},h=function(e,n){return f.a.put("".concat(b,"/").concat(e),n).then(function(e){return e.data})},v=function(e){return f.a.delete("".concat(b,"/").concat(e)).then(function(e){return e.data})};function O(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,a)}return t}var E=function(){var e=Object(a.useState)([{name:"",number:""}]),n=Object(c.a)(e,2),t=n[0],r=n[1],u=Object(a.useState)(""),d=Object(c.a)(u,2),f=d[0],b=d[1],E=Object(a.useState)(""),w=Object(c.a)(E,2),j=w[0],y=w[1],C=Object(a.useState)(""),k=Object(c.a)(C,2),F=k[0],S=k[1],P=Object(a.useState)(null),D=Object(c.a)(P,2),x=D[0],A=D[1],N=Object(a.useState)(null),V=Object(c.a)(N,2),I=V[0],T=V[1];Object(a.useEffect)(function(){p().then(function(e){r(e)})},[]);return o.a.createElement("div",null,o.a.createElement("h1",null,"Phonebook"),o.a.createElement(function(e){var n=e.message;return null===n?null:o.a.createElement("div",{className:"notificationDiv",style:{border:"2px solid green",color:"green",backgroundColor:"#d3d3d3",padding:"10px",borderRadius:"5px",display:"inline-block",fontWeight:"bold"}},n)},{message:x}),o.a.createElement(function(e){var n=e.message;return null===n?null:o.a.createElement("div",{className:"errorDiv",style:{border:"2px solid red",color:"red",backgroundColor:"#d3d3d3",padding:"10px",borderRadius:"5px",display:"inline-block",fontWeight:"bold"}},n)},{message:I}),o.a.createElement(i,{inputValue:F,onChangeFunction:function(e){console.log(e.target.value),S(e.target.value)}}),o.a.createElement(s,{onSubmitFunction:function(e){e.preventDefault();var n={name:f,number:j};if(""===n.name)T("Add missing name"),setTimeout(function(){T(null)},3e3);else if(""===n.number)T("Add missing number"),setTimeout(function(){T(null)},3e3);else if(t.some(function(e){return e.name===f})){if(window.confirm("".concat(n.name," is already added to phonebook. Replace the old number with a new one?"))){console.log("confirm works");var a=t.find(function(e){return e.name===f});console.log(a),h(a.id,n).then(function(e){var n=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?O(t,!0).forEach(function(n){Object(l.a)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):O(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}({},a,{number:j});r(t.map(function(e){return e.name!==f?e:n})),A("Updated ".concat(e.name)),setTimeout(function(){A(null)},5e3),console.log(e)})}}else g(n).then(function(e){r(t.concat(e)),b(""),y(""),A("Added ".concat(e.name)),setTimeout(function(){A(null)},5e3)}),console.log("clicked",e.target)},nameInputValue:f,nameOnChangeFunction:function(e){console.log(e.target.value),b(e.target.value)},numberInputValue:j,numberOnChangeFunction:function(e){console.log(e.target.value),y(e.target.value)}}),o.a.createElement(m,{personsArr:t,filterWord:F,deleteNameFunction:function(e){window.confirm("Delete ".concat(e.name," ?"))&&v(e.id).catch(function(n){T("Name ".concat(e.name," was already deleted from server")),setTimeout(function(){T(null)},5e3)}).then(function(n){r(t.filter(function(n){return n.id!==e.id})),console.log(n)})}}))};u.a.render(o.a.createElement(E,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.5c19e382.chunk.js.map