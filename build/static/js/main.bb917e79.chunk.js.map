{"version":3,"sources":["components/FilteredResults.js","components/NumbersListing.js","components/NewEntry.js","services/notes.js","App.js","index.js"],"names":["FilteredResults","props","value","inputValue","onChange","onChangeFunction","NumbersListing","personsArr","map","x","i","name","toLowerCase","includes","filterWord","number","key","onClick","nameObject","deleteNameFunction","NewEntry","onSubmit","onSubmitFunction","nameInputValue","nameOnChangeFunction","numberInputValue","numberOnChangeFunction","type","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","newSearch","setNewSearch","notificationMessage","setNewNotificationMessage","errorMessage","setNewErrorMessage","useEffect","noteService","allNotes","message","className","style","border","color","backgroundColor","padding","borderRadius","display","fontWeight","event","console","log","target","preventDefault","setTimeout","some","window","confirm","note","find","n","returnedName","changedNote","concat","catch","e","error","nameToDelete","filter","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.bb917e79.chunk.js","sourcesContent":["import React from 'react'\n\nconst FilteredResults = (props) => {\n  return (<div>\n    <p>Filter shown with <input value={props.inputValue} onChange={props.onChangeFunction} /></p>\n  </div>\n  )\n}\n\nexport default FilteredResults","import React from 'react'\n\nconst NumbersListing = (props) => {\n\n  const handleClick = (nameObject) => {\n    props.deleteNameFunction(nameObject)\n  }\n  return (\n    <div>\n      <h2>Numbers</h2>\n      {props.personsArr.map((x, i) => x.name.toLowerCase().includes(props.filterWord.toLowerCase()) || x.number.includes(props.filterWord.toLowerCase()) ? <li key={i}>{x.name} {x.number}<button onClick={() => handleClick(x)}>delete</button></li> : void 0)}\n    </div>\n  )\n}\n\nexport default NumbersListing","import React from 'react'\n\nconst NewEntry = (props) => {\n  return (\n    <div>\n      <h2>Add a new</h2>\n      <form onSubmit={props.onSubmitFunction}>\n        <div>\n          name: <input value={props.nameInputValue} onChange={props.nameOnChangeFunction} />\n        </div>\n        <div>\n          number: <input value={props.numberInputValue} onChange={props.numberOnChangeFunction} />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nexport default NewEntry","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nexport default { getAll, create, update, remove }","import React, { useState, useEffect } from 'react'\nimport FilteredResults from './components/FilteredResults'\nimport NumbersListing from './components/NumbersListing'\nimport NewEntry from './components/NewEntry'\nimport noteService from './services/notes'\n\nconst App = () => {\n  const [persons, setPersons] = useState([\n    { name: '', number: '' }\n  ])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [newSearch, setNewSearch] = useState('')\n  const [notificationMessage, setNewNotificationMessage] = useState(null)\n  const [errorMessage, setNewErrorMessage] = useState(null)\n\n  useEffect(() => {\n    noteService\n      .getAll()\n      .then(allNotes => {\n        setPersons(allNotes)\n      })\n  }, [])\n\n  const Notification = ({ message }) => {\n    const notificationStyle = {\n      border: \"2px solid green\",\n      color: \"green\",\n      backgroundColor: \"#d3d3d3\",\n      padding: \"10px\",\n      borderRadius: \"5px\",\n      display: \"inline-block\",\n      fontWeight: \"bold\"\n    }\n    if (message === null) {\n      return null\n    }\n\n    return (\n      <div className=\"notificationDiv\" style={notificationStyle}>\n        {message}\n      </div>\n    )\n  }\n\n  const Error = ({ message }) => {\n    const notificationStyle = {\n      border: \"2px solid red\",\n      color: \"red\",\n      backgroundColor: \"#d3d3d3\",\n      padding: \"10px\",\n      borderRadius: \"5px\",\n      display: \"inline-block\",\n      fontWeight: \"bold\"\n    }\n    if (message === null) {\n      return null\n    }\n\n    return (\n      <div className=\"errorDiv\" style={notificationStyle}>\n        {message}\n      </div>\n\n    )\n  }\n\n  const addName = (event) => {\n    event.preventDefault()\n    const nameObject = {\n      name: newName,\n      number: newNumber,\n    }\n\n    if (nameObject.name === \"\") {\n      setNewErrorMessage(`Add missing name`)\n      setTimeout(() => {\n        setNewErrorMessage(null)\n      }, 3000)\n    } else if (nameObject.number === \"\") {\n      setNewErrorMessage(`Add missing number`)\n      setTimeout(() => {\n        setNewErrorMessage(null)\n      }, 3000)\n    }\n\n    else if (persons.some(x => x.name === newName)) {\n      if (window.confirm(`${nameObject.name} is already added to phonebook. Replace the old number with a new one?`)) {\n        console.log(\"confirm works\")\n        const note = persons.find(n => n.name === newName)\n        console.log(note)\n        noteService\n          .update(note.id, nameObject)\n          .then(returnedName => {\n            const changedNote = { ...note, number: newNumber }\n            setPersons(persons.map(x => x.name !== newName ? x : changedNote))\n            setNewNotificationMessage(`Updated ${returnedName.name}`)\n            setTimeout(() => {\n              setNewNotificationMessage(null)\n            }, 5000)\n\n            console.log(returnedName)\n          })\n      }\n    } else {\n\n      noteService\n        .create(nameObject)\n        .then(returnedName => {\n          setPersons(persons.concat(returnedName))\n          setNewName('')\n          setNewNumber('')\n          setNewNotificationMessage(`Added ${returnedName.name}`)\n          setTimeout(() => {\n            setNewNotificationMessage(null)\n          }, 5000)\n        })\n        .catch(e => {\n          console.log(e.response.data)\n          setNewErrorMessage(e.response.data.error)\n          setTimeout(() => {\n            setNewErrorMessage(null)\n          }, 5000)\n        })\n\n      console.log('clicked', event.target)\n    }\n  }\n\n  const deleteName = (nameToDelete) => {\n    if (window.confirm(`Delete ${nameToDelete.name} ?`)) {\n      noteService\n        .remove(nameToDelete.id)\n        .catch(error => {\n          setNewErrorMessage(`Name ${nameToDelete.name} was already deleted from server`)\n          setTimeout(() => {\n            setNewErrorMessage(null)\n          }, 5000)\n        })\n        .then(returnedName => {\n          setPersons(persons.filter(x => x.id !== nameToDelete.id))\n          console.log(returnedName)\n        })\n    }\n\n\n  }\n\n  const handleNameChange = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n\n  const handleSearchChange = (event) => {\n    console.log(event.target.value)\n    setNewSearch(event.target.value)\n  }\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notification message={notificationMessage} />\n      <Error message={errorMessage} />\n      <FilteredResults inputValue={newSearch} onChangeFunction={handleSearchChange} />\n      <NewEntry onSubmitFunction={addName} nameInputValue={newName} nameOnChangeFunction={handleNameChange} numberInputValue={newNumber} numberOnChangeFunction={handleNumberChange} />\n      <NumbersListing personsArr={persons} filterWord={newSearch} deleteNameFunction={deleteName} />\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}