{"version":3,"sources":["components/FilteredResults.js","components/NumbersListing.js","components/NewEntry.js","services/notes.js","App.js","index.js"],"names":["FilteredResults","props","value","inputValue","onChange","onChangeFunction","NumbersListing","personsArr","map","x","i","name","toLowerCase","includes","filterWord","number","key","onClick","nameObject","deleteNameFunction","console","log","NewEntry","onSubmit","onSubmitFunction","nameInputValue","nameOnChangeFunction","numberInputValue","numberOnChangeFunction","type","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","newSearch","setNewSearch","notificationMessage","setNewNotificationMessage","errorMessage","setNewErrorMessage","useEffect","noteService","allNotes","message","className","style","border","color","backgroundColor","padding","borderRadius","display","fontWeight","event","target","preventDefault","setTimeout","some","window","confirm","note","find","n","returnedName","changedNote","concat","nameToDelete","catch","error","filter","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a6d968b0.chunk.js","sourcesContent":["import React from 'react'\n\nconst FilteredResults = (props) => {\n  return (<div>\n    <p>Filter shown with <input value={props.inputValue} onChange={props.onChangeFunction} /></p>\n  </div>\n  )\n}\n\nexport default FilteredResults","import React from 'react'\n\nconst NumbersListing = (props) => {\n\n  const handleClick = (nameObject) => {\n    props.deleteNameFunction(nameObject)\n  }\n  return (\n    <div>\n      <h2>Numbers</h2>\n      {props.personsArr.map((x, i) => x.name.toLowerCase().includes(props.filterWord.toLowerCase()) || x.number.includes(props.filterWord.toLowerCase()) ? <li key={i}>{x.name} {x.number}<button onClick={() => handleClick(x)}>delete</button></li> : console.log(\"Ei sisällä haettavaa sanaa!\"))}\n    </div>\n  )\n}\n\nexport default NumbersListing","import React from 'react'\n\nconst NewEntry = (props) => {\n  return (\n    <div>\n      <h2>Add a new</h2>\n      <form onSubmit={props.onSubmitFunction}>\n        <div>\n          name: <input value={props.nameInputValue} onChange={props.nameOnChangeFunction} />\n        </div>\n        <div>\n          number: <input value={props.numberInputValue} onChange={props.numberOnChangeFunction} />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nexport default NewEntry","import axios from 'axios'\nconst baseUrl = 'http://localhost:3001/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nexport default { getAll, create, update, remove }","import React, { useState, useEffect } from 'react'\nimport FilteredResults from './components/FilteredResults'\nimport NumbersListing from './components/NumbersListing'\nimport NewEntry from './components/NewEntry'\nimport noteService from './services/notes'\n\nconst App = () => {\n  const [persons, setPersons] = useState([\n    { name: '', number: '' }\n  ])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [newSearch, setNewSearch] = useState('')\n  const [notificationMessage, setNewNotificationMessage] = useState(null)\n  const [errorMessage, setNewErrorMessage] = useState(null)\n\n  useEffect(() => {\n    noteService\n      .getAll()\n      .then(allNotes => {\n        setPersons(allNotes)\n      })\n  }, [])\n\n  const Notification = ({ message }) => {\n    const notificationStyle = {\n      border: \"2px solid green\",\n      color: \"green\",\n      backgroundColor: \"#d3d3d3\",\n      padding: \"10px\",\n      borderRadius: \"5px\",\n      display: \"inline-block\",\n      fontWeight: \"bold\"\n    }\n    if (message === null) {\n      return null\n    }\n\n    return (\n      <div className=\"notificationDiv\" style={notificationStyle}>\n        {message}\n      </div>\n    )\n  }\n\n  const Error = ({ message }) => {\n    const notificationStyle = {\n      border: \"2px solid red\",\n      color: \"red\",\n      backgroundColor: \"#d3d3d3\",\n      padding: \"10px\",\n      borderRadius: \"5px\",\n      display: \"inline-block\",\n      fontWeight: \"bold\"\n    }\n    if (message === null) {\n      return null\n    }\n\n    return (\n      <div className=\"errorDiv\" style={notificationStyle}>\n        {message}\n      </div>\n\n    )\n  }\n\n  const addName = (event) => {\n    event.preventDefault()\n    const nameObject = {\n      name: newName,\n      number: newNumber,\n    }\n\n    if (nameObject.name === \"\") {\n      setNewErrorMessage(`Add missing name`)\n      setTimeout(() => {\n        setNewErrorMessage(null)\n      }, 3000)\n    } else if (nameObject.number === \"\") {\n      setNewErrorMessage(`Add missing number`)\n      setTimeout(() => {\n        setNewErrorMessage(null)\n      }, 3000)\n    }\n\n    else if (persons.some(x => x.name === newName)) {\n      if (window.confirm(`${nameObject.name} is already added to phonebook. Replace the old number with a new one?`)) {\n        console.log(\"confirm works\")\n        const note = persons.find(n => n.name === newName)\n        console.log(note)\n        noteService\n          .update(note.id, nameObject)\n          .then(returnedName => {\n            const changedNote = { ...note, number: newNumber }\n            setPersons(persons.map(x => x.name !== newName ? x : changedNote))\n            setNewNotificationMessage(`Updated ${returnedName.name}`)\n            setTimeout(() => {\n              setNewNotificationMessage(null)\n            }, 5000)\n\n            console.log(returnedName)\n          })\n      }\n    } else {\n\n      noteService\n        .create(nameObject)\n        .then(returnedName => {\n          setPersons(persons.concat(returnedName))\n          setNewName('')\n          setNewNumber('')\n          setNewNotificationMessage(`Added ${returnedName.name}`)\n          setTimeout(() => {\n            setNewNotificationMessage(null)\n          }, 5000)\n        })\n\n      console.log('clicked', event.target)\n    }\n  }\n\n  const deleteName = (nameToDelete) => {\n    if (window.confirm(`Delete ${nameToDelete.name} ?`)) {\n      noteService\n        .remove(nameToDelete.id)\n        .catch(error => {\n          setNewErrorMessage(`Name ${nameToDelete.name} was already deleted from server`)\n          setTimeout(() => {\n            setNewErrorMessage(null)\n          }, 5000)\n        })\n        .then(returnedName => {\n          setPersons(persons.filter(x => x.id !== nameToDelete.id))\n          console.log(returnedName)\n        })\n    }\n\n\n  }\n\n  const handleNameChange = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n\n  const handleSearchChange = (event) => {\n    console.log(event.target.value)\n    setNewSearch(event.target.value)\n  }\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notification message={notificationMessage} />\n      <Error message={errorMessage} />\n      <FilteredResults inputValue={newSearch} onChangeFunction={handleSearchChange} />\n      <NewEntry onSubmitFunction={addName} nameInputValue={newName} nameOnChangeFunction={handleNameChange} numberInputValue={newNumber} numberOnChangeFunction={handleNumberChange} />\n      <NumbersListing personsArr={persons} filterWord={newSearch} deleteNameFunction={deleteName} />\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}